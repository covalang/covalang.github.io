<!DOCTYPE html>

<html lang=en>
	<meta charset=utf-8>
	<title>cova</title>
	<link rel=stylesheet href=css/main.css />
	<link rel=stylesheet href=css/prism.css />

	<body>
		<header>
			<h1>
				<span>co</span><span>va</span>
			</h1>
			<ul role=navigation>
				<li>
					<a href=#>Quick Start</a>
				</li>
				<li>
					<a href=#>Documentation</a>
				</li>
				<li>
					<a href=#>Packages</a>
				</li>
				<li>
					<a href=#>Community</a>
				</li>
				<li>
					<a href=#>Github</a>
				</li>
			</ul>
		</header>

		<main>
			<section>
				<pre><code class="language-cova">
					namespace Test.Cova
						type Program $
							env -$ Env
							+$text -> "yes"

							func -$ main(args []String)

								match args[0]
									`build` -> build()
									`run` -> run()
									else -> throw `whoops`

								Env.out.writeLine("test")
								foreach (var arg in args)
									Env.out.writeLine(arg)
								let line = env.in.readLine()
								let action = x -> x;
								foo()

							func +$ foo() <I32, AsciiString>
								Env.out.writeLine(foo.fullName)
								var i I64 = 0
								i += 42
								i *= 1337
								return (i.cast<I32>(), "ok");

						interface Okay
							name String
							
						type Foo
							+name String
							+birthDate Date

							+new(name String, birthDate Date)
								this.name = name
								this.birthDate = birthDate

						type Bar extends Foo
							+new()
				</code></pre>
			</section>
		</main>

		<footer>
			footer
		</footer>

		<script src=scripts/prism.js></script>
		<script src=scripts/prism-cova.js></script>
		<script>
			document.addEventListener('DOMContentLoaded', event => {
				document.querySelectorAll('pre > code').forEach(elem => {
					const text = elem.innerHTML.replace(/^\n+|\s+$/g, '');
					const index = text.search(/\S/);
					const lines = text.split(/\r\n|\n/);
					for (let i = 0; i != lines.length; i++)
						lines[i] = lines[i].substr(index);
					const fixed = lines.join('\n');//.replace(/\t/g, '→   ');
					elem.innerHTML = fixed;
				});
			});
		</script>

		<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
		<script>
			//import cova from 'scripts/syntax-highlighting.js';
			document.addEventListener('DOMContentLoaded', event => {
				//hljs.registerLanguage('cova', (hljs) = {});
				document.querySelectorAll('pre > code').forEach(elem => {
					const text = $(elem).text().replace(/^\n+|\s+$/g, '');
					const index = text.search(/\S/);
					const lines = text.split(/\r\n|\n/);
					for (let i = 0; i != lines.length; i++)
						lines[i] = lines[i].substr(index);
					const fixed = lines.join('\n');//.replace(/\t/g, '→   ');
					$(elem).text(fixed);
					hljs.highlightBlock(elem);
				});
			});
		</script> -->
	</body>
</html>